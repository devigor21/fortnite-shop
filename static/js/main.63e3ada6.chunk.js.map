{"version":3,"sources":["layout/Header.jsx","layout/Footer.jsx","reducer.js","context.js","components/GoodsItem.jsx","components/GoodsList.jsx","components/Preloader.jsx","components/BasketItem.jsx","components/BasketList.jsx","layout/Cart.jsx","components/Alert.jsx","config.js","layout/Shop.jsx","App.js","index.js"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","reducer","state","type","payload","goods","loading","order","filter","el","alertName","isBasketShow","map","newQuantity","quantity","itemIndex","findIndex","orderItem","newOrder","newItem","index","name","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","addToBasket","item","removeFromBasket","itemId","handleBasketShow","incQuantity","decQuantity","setGoods","data","Provider","GoodsItem","props","full_background","description","price","useContext","src","alt","onClick","style","fontSize","GoodsList","length","Preloader","BasketItem","Function","prototype","BasketList","totalPrice","reduce","sum","Cart","Alert","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","process","then","responce","json","featured","catch","err","console","error","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oMAAA,SAASA,IACP,OACE,qBAAKC,UAAU,mBAAf,SACE,sBAAKA,UAAU,wBAAf,UACE,mBAAGC,KAAK,IAAID,UAAU,aAAtB,2BACA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SACE,6BAAI,mBAAGC,KAAK,6CAA6CE,OAAO,SAASC,IAAI,aAAzE,2BCNd,SAASC,IACP,OACE,wBAAQL,UAAU,+BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAIM,MAAOC,cADhB,YAEE,mBAAGP,UAAU,iCAAiCC,KAAK,6CAA6CE,OAAO,SAASC,IAAI,aAApH,yB,yBCNH,SAASI,EAAQC,EAAjB,GAA4C,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACrC,OAAQD,GACN,IAAK,YACH,OAAO,2BACFD,GADL,IAEEG,MAAOD,GAAW,GAClBE,SAAS,IAGb,IAAK,qBACH,OAAO,2BACFJ,GADL,IAEEK,MAAOL,EAAMK,MAAMC,QAAO,SAACC,GAAD,OAAQA,EAAGd,KAAOS,EAAQT,QAGxD,IAAK,cACH,OAAO,2BACFO,GADL,IAEEQ,UAAW,KAGf,IAAK,qBACH,OAAO,2BACFR,GADL,IAEES,cAAeT,EAAMS,eAGzB,IAAK,eACH,OAAO,2BACFT,GADL,IAEEK,MAAOL,EAAMK,MAAMK,KAAI,SAACH,GACtB,GAAIA,EAAGd,KAAOS,EAAQT,GAAI,CACxB,IAAMkB,EAAcJ,EAAGK,SAAW,EAClC,OAAO,2BACFL,GADL,IAEEK,SAAUD,IAGZ,OAAOJ,OAKf,IAAK,eACH,OAAO,2BACFP,GADL,IAEEK,MAAOL,EAAMK,MAAMK,KAAI,SAACH,GACtB,GAAIA,EAAGd,KAAOS,EAAQT,GAAI,CACxB,IAAMkB,EAAcJ,EAAGK,SAAW,EAClC,OAAO,2BACFL,GADL,IAEEK,SAAUD,GAAe,EAAIA,EAAc,IAG7C,OAAOJ,OAKf,IAAK,gBACH,IAAMM,EAAYb,EAAMK,MAAMS,WAC5B,SAACC,GAAD,OAAeA,EAAUtB,KAAOS,EAAQT,MAGtCuB,EAAW,KAEf,GAAIH,EAAY,EAAG,CACjB,IAAMI,EAAO,2BACRf,GADQ,IAEXU,SAAU,IAEZI,EAAQ,sBAAOhB,EAAMK,OAAb,CAAoBY,SAE5BD,EAAWhB,EAAMK,MAAMK,KAAI,SAACK,EAAWG,GACrC,OAAIA,IAAUL,EACL,2BACFE,GADL,IAEEH,SAAUG,EAAUH,SAAW,IAG1BG,KAKb,OAAO,2BACFf,GADL,IAEEK,MAAOW,EACPR,UAAWN,EAAQiB,OAIvB,QACE,OAAOnB,GC1FN,IAAMoB,EAAcC,0BAErBC,EAAe,CACnBnB,MAAO,GACPC,SAAS,EACTC,MAAO,GACPI,cAAc,EACdD,UAAW,IAGAe,EAAkB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAChC,EAA0BC,qBAAW1B,EAASuB,GAA9C,mBAAOI,EAAP,KAAcC,EAAd,KA8BA,OA5BAD,EAAME,WAAa,WACjBD,EAAS,CAAE1B,KAAM,iBAGnByB,EAAMG,YAAc,SAACC,GACnBH,EAAS,CAAE1B,KAAM,gBAAiBC,QAAS4B,KAG7CJ,EAAMK,iBAAmB,SAACC,GACxBL,EAAS,CAAE1B,KAAM,qBAAsBC,QAAS,CAAET,GAAIuC,MAGxDN,EAAMO,iBAAmB,WACvBN,EAAS,CAAE1B,KAAM,wBAGnByB,EAAMQ,YAAc,SAACF,GACnBL,EAAS,CAAE1B,KAAM,eAAgBC,QAAS,CAAET,GAAIuC,MAGlDN,EAAMS,YAAc,SAACH,GACnBL,EAAS,CAAE1B,KAAM,eAAgBC,QAAS,CAAET,GAAIuC,MAGlDN,EAAMU,SAAW,SAACC,GAChBV,EAAS,CAAE1B,KAAM,YAAaC,QAASmC,KAIvC,cAACjB,EAAYkB,SAAb,CAAsBZ,MAAOA,EAA7B,SACGF,KC3CP,SAASe,EAAUC,GACjB,IAAQrB,EAAkDqB,EAAlDrB,KAAMsB,EAA4CD,EAA5CC,gBAAiBhD,EAA2B+C,EAA3B/C,GAAIiD,EAAuBF,EAAvBE,YAAaC,EAAUH,EAAVG,MAExCd,EAAgBe,qBAAWxB,GAA3BS,YAER,OACE,sBAAKtC,UAAU,OAAf,UACE,qBAAKA,UAAU,aAAf,SAEwB,KAApBkD,EAAyB,qBAAKlD,UAAU,YAAYsD,IAAG,mDAA8C1B,GAAQ2B,IAAK3B,IAAW,qBAAK5B,UAAU,YAAYsD,IAAKJ,EAAiBK,IAAK3B,MAGvL,sBAAK5B,UAAU,eAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8B4B,IAC9B,4BAAIuB,OAEN,sBAAKnD,UAAU,cAAf,UACE,wBACEA,UAAU,MACVwD,QAAS,kBACPlB,EAAY,CACVpC,KACA0B,OACAwB,WANN,kDAYA,uBAAMpD,UAAU,QAAQyD,MAAO,CAAEC,SAAU,UAA3C,UACGN,EADH,gCC5BR,SAASO,IACP,MAAuBN,qBAAWxB,GAA1BjB,aAAR,MAAgB,GAAhB,EACA,OACE,qBAAKZ,UAAU,QAAf,SAEIY,EAAMgD,OAAShD,EAAMO,KAAI,SAAAoB,GAAI,OAAK,cAACS,EAAD,eAA6BT,GAAbA,EAAKrC,OAAqB,oBAAIF,UAAU,cAAd,4GCTpF,SAAS6D,IACP,OACE,qBAAK7D,UAAU,WAAf,SACE,qBAAKA,UAAU,oBCArB,SAAS8D,EAAWb,GAClB,IACE/C,EAIE+C,EAJF/C,GACA0B,EAGEqB,EAHFrB,KACAwB,EAEEH,EAFFG,MACA/B,EACE4B,EADF5B,SAGF,EAIIgC,qBAAWxB,GAJf,IACEW,wBADF,MACqBuB,SAASC,UAD9B,MAEErB,mBAFF,MAEgBoB,SAASC,UAFzB,MAGEpB,mBAHF,MAGgBmB,SAASC,UAHzB,EAMA,OACE,qBAAIhE,UAAU,kBAAd,UACG4B,EAAM,IACP,mBACE5B,UAAU,iCACVwD,QAAS,kBAAMZ,EAAY1C,IAF7B,oBAKK,IAPP,IAQImB,EAAU,IACZ,mBACErB,UAAU,iCACVwD,QAAS,kBAAMb,EAAYzC,IAF7B,iBAKK,IAdP,KAeKkD,EAAQ/B,EAfb,uBAgBE,sBACErB,UAAU,oBACVwD,QAAS,kBAAMhB,EAAiBtC,IAFlC,SAIE,mBAAGF,UAAU,+BAAb,wBClCR,SAASiE,IACP,MAGIZ,qBAAWxB,GAHf,IACEf,aADF,MACU,GADV,MAEE4B,wBAFF,MAEqBqB,SAASC,UAF9B,EAKME,EAAapD,EAAMqD,QAAO,SAACC,EAAKpD,GACpC,OAAOoD,EAAMpD,EAAGoC,MAAQpC,EAAGK,WAC1B,GAEH,OACE,qBAAIrB,UAAU,yBAAd,UACE,oBAAIA,UAAU,yBAAd,wDACCc,EAAM8C,OACL9C,EAAMK,KAAI,SAACoB,GAAD,OACR,cAACuB,EAAD,eAEMvB,GADCA,EAAKrC,OAKd,oBAAIF,UAAU,kBAAd,uFAEF,qBAAIA,UAAU,yBAAd,oGACoBkE,EADpB,0BAGA,oBAAIlE,UAAU,kBAAd,SACE,wBAAQA,UAAU,gBAAlB,gEAEF,mBACEA,UAAU,8BACVwD,QAASd,EAFX,sBC9BN,SAAS2B,IACP,MAAyDhB,qBAAWxB,GAA5Df,EAAR,EAAQA,MAAR,IAAe4B,wBAAf,MAAkCqB,SAASC,UAA3C,EAEM3C,EAAWP,EAAM8C,OAEvB,OACE,sBAAK5D,UAAU,kCAAkCwD,QAAS,WAAQd,KAAlE,UACE,mBAAG1C,UAAU,iBAAb,2BACCqB,EAAW,sBAAMrB,UAAU,gBAAhB,SAAiCqB,IAAmB,QCRtE,SAASiD,IACP,MAGIjB,qBAAWxB,GAHf,IACEZ,UAAWW,OADb,MACoB,GADpB,MAEES,kBAFF,MAEe0B,SAASC,UAFxB,EAcA,OATAO,qBAAU,WACR,IAAMC,EAAUC,WAAWpC,EAAY,KAEvC,OAAO,WACLqC,aAAaF,MAGd,CAAC5C,IAGF,qBAAK1B,GAAG,kBAAR,SACE,sBAAKF,UAAU,QAAf,UAAwB4B,EAAxB,2GCpBN,ICWM+C,EAAO,WACX,MAMItB,qBAAWxB,GALbhB,EADF,EACEA,QACAC,EAFF,EAEEA,MACAI,EAHF,EAGEA,aACAD,EAJF,EAIEA,UACA4B,EALF,EAKEA,SAeF,OAZA0B,qBAAU,WACRK,MDnBY,yCCmBG,CACbC,QAAS,CAAE,cDtBDC,yCCuBTC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAjC,GACJA,EAAKoC,UAAYrC,EAASC,EAAKoC,aAEhCC,OAAM,SAACC,GACNC,QAAQC,MAAMF,QAEjB,IAGD,uBAAMpF,UAAU,oBAAhB,UACE,cAACqE,EAAD,CAAMhD,SAAUP,EAAM8C,SACrB/C,EAAU,cAACgD,EAAD,IAAgB,cAACF,EAAD,IAC1BzC,GAAgB,cAAC+C,EAAD,IAChBhD,GAAa,cAACqD,EAAD,QCnBLiB,MAZf,WACE,OACE,qCACE,cAACxF,EAAD,IACA,cAAC,EAAD,UACE,cAAC,EAAD,MAEF,cAACM,EAAD,QCRNmF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.63e3ada6.chunk.js","sourcesContent":["function Header() {\n  return (\n    <nav className=\"indigo lighten-1\">\n      <div className=\"container nav-wrapper\">\n        <a href=\"/\" className=\"brand-logo\">Fortnite Shop</a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li><a href=\"https://github.com/devigor21/fortnite-shop\" target=\"_blank\" rel=\"noreferrer\">Repo</a></li>\n        </ul>\n      </div>\n    </nav>\n  );\n}\n\nexport { Header };\n","function Footer() {\n  return (\n    <footer className=\"page-footer indigo lighten-1\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          © {new Date().getFullYear()} Igor Dev\n          <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/devigor21/fortnite-shop\" target=\"_blank\" rel=\"noreferrer\">Repo</a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport { Footer };\n","export function reducer(state, { type, payload }) {\n  switch (type) {\n    case 'SET_GOODS':\n      return {\n        ...state,\n        goods: payload || [],\n        loading: false,\n      };\n\n    case 'REMOVE_FROM_BASKET':\n      return {\n        ...state,\n        order: state.order.filter((el) => el.id !== payload.id),\n      };\n\n    case 'CLOSE_ALERT':\n      return {\n        ...state,\n        alertName: '',\n      };\n\n    case 'HANDLE_BASKET_SHOW':\n      return {\n        ...state,\n        isBasketShow: !state.isBasketShow,\n      };\n\n    case 'INC_QUANTITY':\n      return {\n        ...state,\n        order: state.order.map((el) => {\n          if (el.id === payload.id) {\n            const newQuantity = el.quantity + 1;\n            return {\n              ...el,\n              quantity: newQuantity,\n            };\n          } else {\n            return el;\n          }\n        }),\n      };\n\n    case 'DEC_QUANTITY':\n      return {\n        ...state,\n        order: state.order.map((el) => {\n          if (el.id === payload.id) {\n            const newQuantity = el.quantity - 1;\n            return {\n              ...el,\n              quantity: newQuantity >= 0 ? newQuantity : 0,\n            };\n          } else {\n            return el;\n          }\n        }),\n      };\n\n    case 'ADD_TO_BASKET': {\n      const itemIndex = state.order.findIndex(\n        (orderItem) => orderItem.id === payload.id\n      );\n\n      let newOrder = null;\n\n      if (itemIndex < 0) {\n        const newItem = {\n          ...payload,\n          quantity: 1,\n        };\n        newOrder = [...state.order, newItem];\n      } else {\n        newOrder = state.order.map((orderItem, index) => {\n          if (index === itemIndex) {\n            return {\n              ...orderItem,\n              quantity: orderItem.quantity + 1,\n            };\n          } else {\n            return orderItem;\n          }\n        });\n      }\n\n      return {\n        ...state,\n        order: newOrder,\n        alertName: payload.name,\n      };\n    };\n\n    default:\n      return state;\n  }\n}\n","import { createContext, useReducer } from \"react\";\nimport { reducer } from \"./reducer\";\n\nexport const ShopContext = createContext();\n\nconst initialState = {\n  goods: [],\n  loading: true,\n  order: [],\n  isBasketShow: false,\n  alertName: '',\n};\n\nexport const ContextProvider = ({ children }) => {\n  const [value, dispatch] = useReducer(reducer, initialState);\n\n  value.closeAlert = () => {\n    dispatch({ type: 'CLOSE_ALERT' });\n  };\n\n  value.addToBasket = (item) => {\n    dispatch({ type: 'ADD_TO_BASKET', payload: item });\n  };\n\n  value.removeFromBasket = (itemId) => {\n    dispatch({ type: 'REMOVE_FROM_BASKET', payload: { id: itemId } });\n  };\n\n  value.handleBasketShow = () => {\n    dispatch({ type: 'HANDLE_BASKET_SHOW' });\n  };\n\n  value.incQuantity = (itemId) => {\n    dispatch({ type: 'INC_QUANTITY', payload: { id: itemId } });\n  };\n\n  value.decQuantity = (itemId) => {\n    dispatch({ type: 'DEC_QUANTITY', payload: { id: itemId } });\n  };\n\n  value.setGoods = (data) => {\n    dispatch({ type: 'SET_GOODS', payload: data });\n  };\n\n  return (\n    <ShopContext.Provider value={value}>\n      {children}\n    </ShopContext.Provider>\n  );\n};\n","import { useContext } from \"react\";\nimport { ShopContext } from \"../context\";\n\nfunction GoodsItem(props) {\n  const { name, full_background, id, description, price } = props;\n\n  const { addToBasket } = useContext(ShopContext);\n\n  return (\n    <div className='card'>\n      <div className='card-image'>\n        {\n          full_background === '' ? <img className=\"activator\" src={`https://via.placeholder.com/300x445?text=${name}`} alt={name} /> : <img className=\"activator\" src={full_background} alt={name} />\n        }\n      </div>\n      <div className='card-content'>\n        <span className='card-title'>{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className='card-action'>\n        <button\n          className='btn'\n          onClick={() =>\n            addToBasket({\n              id,\n              name,\n              price,\n            })\n          }\n        >\n          Купить\n        </button>\n        <span className='right' style={{ fontSize: '1.8rem' }}>\n          {price} руб.\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport { GoodsItem };\n","import { useContext } from \"react\";\nimport { ShopContext } from \"../context\";\nimport { GoodsItem } from \"./GoodsItem\";\n\nfunction GoodsList() {\n  const { goods = [] } = useContext(ShopContext);\n  return (\n    <div className=\"goods\">\n      {\n        goods.length ? goods.map(item => (<GoodsItem key={item.id} {...item} />)) : <h4 className=\"indigo-text\">Ничего не найдено</h4>\n      }\n    </div>\n  );\n}\n\nexport { GoodsList };\n","function Preloader() {\n  return (\n    <div className=\"progress\">\n      <div className=\"indeterminate\"></div>\n    </div>\n  );\n}\n\nexport { Preloader };\n","import { useContext } from \"react\";\nimport { ShopContext } from \"../context\";\n\nfunction BasketItem(props) {\n  const {\n    id,\n    name,\n    price,\n    quantity,\n  } = props;\n\n  const {\n    removeFromBasket = Function.prototype,\n    incQuantity = Function.prototype,\n    decQuantity = Function.prototype\n  } = useContext(ShopContext);\n\n  return (\n    <li className='collection-item'>\n      {name}{' '}\n      <i\n        className='material-icons basket-quantity'\n        onClick={() => decQuantity(id)}\n      >\n        remove\n      </i>{' '}\n      x{quantity}{' '}\n      <i\n        className='material-icons basket-quantity'\n        onClick={() => incQuantity(id)}\n      >\n        add\n      </i>{' '}\n      = {price * quantity} руб.\n      <span\n        className='secondary-content'\n        onClick={() => removeFromBasket(id)}\n      >\n        <i className='material-icons basket-delete'>close</i>\n      </span>\n    </li>\n  );\n}\n\nexport { BasketItem };\n","import { useContext } from \"react\";\nimport { ShopContext } from \"../context\";\nimport { BasketItem } from './BasketItem';\n\nfunction BasketList() {\n  const {\n    order = [],\n    handleBasketShow = Function.prototype,\n  } = useContext(ShopContext);\n\n  const totalPrice = order.reduce((sum, el) => {\n    return sum + el.price * el.quantity;\n  }, 0);\n\n  return (\n    <ul className='collection basket-list'>\n      <li className='collection-item active'>Корзина</li>\n      {order.length ? (\n        order.map((item) => (\n          <BasketItem\n            key={item.id}\n            {...item}\n          />\n        ))\n      ) : (\n        <li className='collection-item'>Корзина пуста</li>\n      )}\n      <li className='collection-item active'>\n        Общая стоимость: {totalPrice} руб.\n      </li>\n      <li className='collection-item'>\n        <button className='btn btn-small'>Оформить</button>\n      </li>\n      <i\n        className='material-icons basket-close'\n        onClick={handleBasketShow}\n      >\n        close\n      </i>\n    </ul>\n  );\n}\n\nexport { BasketList };\n","import { useContext } from 'react';\nimport { ShopContext } from \"../context\";\n\nfunction Cart() {\n  const { order, handleBasketShow = Function.prototype } = useContext(ShopContext);\n\n  const quantity = order.length;\n\n  return (\n    <div className=\"cart indigo darken-1 white-text\" onClick={() => { handleBasketShow() }}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n    </div>\n  );\n}\n\nexport { Cart };\n","import { useEffect, useContext } from 'react';\nimport { ShopContext } from \"../context\";\n\nfunction Alert() {\n  const {\n    alertName: name = '',\n    closeAlert = Function.prototype\n  } = useContext(ShopContext);\n\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 3000);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n    // eslint-disable-next-line\n  }, [name]);\n\n  return (\n    <div id='toast-container'>\n      <div className='toast'>{name} добавлен в корзину</div>\n    </div>\n  );\n}\n\nexport { Alert };\n","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\n\nexport { API_KEY, API_URL };\n","import { useEffect, useContext } from \"react\";\n\nimport { ShopContext } from \"../context\";\n\nimport { GoodsList } from \"../components/GoodsList\";\nimport { Preloader } from \"../components/Preloader\";\nimport { BasketList } from \"../components/BasketList\";\nimport { Cart } from \"../layout/Cart\";\nimport { Alert } from \"../components/Alert\";\nimport { API_KEY, API_URL } from \"../config\";\n\nconst Shop = () => {\n  const {\n    loading,\n    order,\n    isBasketShow,\n    alertName,\n    setGoods\n  } = useContext(ShopContext);\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: { 'Authorization': API_KEY }\n    }).then(responce => responce.json())\n      .then(data => {\n        data.featured && setGoods(data.featured);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }, []); // eslint-disable-line\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} />\n      {loading ? <Preloader /> : <GoodsList />}\n      {isBasketShow && <BasketList />}\n      {alertName && <Alert />}\n    </main>\n  );\n};\n\nexport { Shop };\n","import { Header } from \"./layout/Header\";\nimport { Footer } from \"./layout/Footer\";\nimport { Shop } from \"./layout/Shop\";\n\nimport { ContextProvider } from \"./context\";\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Shop />\n      </ContextProvider>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}